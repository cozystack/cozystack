---
apiVersion: cozystack.io/v1alpha1
kind: PackageSetDefinition
metadata:
  name: cozystack.cert-manager
spec:
  sourceRef:
    kind: OCIRepository
    name: cozystack-packages
    namespace: cozy-system
    path: /
  variants:
    - name: default
      dependsOn:
        - cozystack.networking
      packages:
        - name: cert-manager-crds
          path: system/cert-manager-crds
          releaseName: cert-manager-crds
          namespace: cozy-cert-manager
        - name: cert-manager
          path: system/cert-manager
          releaseName: cert-manager
          namespace: cozy-cert-manager
          dependsOn:
            - cert-manager-crds
        - name: cert-manager-issuers
          path: system/cert-manager-issuers
          releaseName: cert-manager-issuers
          namespace: cozy-cert-manager
          dependsOn:
            - cert-manager

