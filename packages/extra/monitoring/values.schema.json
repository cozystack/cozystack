{
  "title": "Chart Values",
  "type": "object",
  "properties": {
    "alerta": {
      "description": "Configuration for Alerta service",
      "type": "object",
      "default": {
        "alerts": {
          "slack": {
            "alertaUsername": "",
            "attachments": false,
            "channel": "",
            "channelEnvMap": {},
            "channelEventMap": {},
            "channelMap": {},
            "channelSeverityMap": {},
            "iconEmoji": "",
            "webhookURL": ""
          },
          "telegram": {
            "chatID": "",
            "disabledSeverity": "",
            "token": ""
          }
        },
        "resources": {
          "limits": {
            "cpu": "1",
            "memory": "1Gi"
          },
          "requests": {
            "cpu": "100m",
            "memory": "256Mi"
          }
        },
        "storage": "10Gi",
        "storageClassName": ""
      },
      "properties": {
        "alerts": {
          "description": "Configuration for alerts",
          "type": "object",
          "default": {
            "slack": {
              "alertaUsername": "",
              "attachments": false,
              "channel": "",
              "channelEnvMap": {},
              "channelEventMap": {},
              "channelMap": {},
              "channelSeverityMap": {},
              "iconEmoji": "",
              "webhookURL": ""
            },
            "telegram": {
              "chatID": "",
              "disabledSeverity": "",
              "token": ""
            }
          },
          "properties": {
            "slack": {
              "description": "Configuration for Slack alerts",
              "type": "object",
              "default": {
                "alertaUsername": "",
                "attachments": false,
                "channel": "",
                "channelEnvMap": {},
                "channelEventMap": {},
                "channelMap": {},
                "channelSeverityMap": {},
                "iconEmoji": "",
                "webhookURL": ""
              },
              "required": [
                "alertaUsername",
                "attachments",
                "channel",
                "iconEmoji",
                "webhookURL"
              ],
              "properties": {
                "alertaUsername": {
                  "description": "Username to use for messages from Alerta (default: \"alerta\")",
                  "type": "string"
                },
                "attachments": {
                  "description": "Whether to include attachments in Slack messages (default: false)",
                  "type": "boolean",
                  "default": false
                },
                "channel": {
                  "description": "Default Slack channel (e.g. \"#alerts\"). If empty, channel from webhook configuration is used.",
                  "type": "string"
                },
                "channelEnvMap": {
                  "description": "Mapping of environment name to Slack channel. Example: { Production: \"#alert-prod\" }",
                  "type": "object",
                  "default": {},
                  "additionalProperties": {
                    "type": "string"
                  }
                },
                "channelEventMap": {
                  "description": "Mapping of event name to Slack channel. Example: { \"Node offline\": \"#critical-alerts\" }",
                  "type": "object",
                  "default": {},
                  "additionalProperties": {
                    "type": "string"
                  }
                },
                "channelMap": {
                  "description": "Nested mapping of environment -\u003e severity -\u003e channel. Example: { Production: { critical: \"#prod-alerts\" } }",
                  "type": "object",
                  "default": {},
                  "additionalProperties": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "string"
                    }
                  }
                },
                "channelSeverityMap": {
                  "description": "Mapping of severity to Slack channel. Example: { critical: \"#critical-alerts\" }",
                  "type": "object",
                  "default": {},
                  "additionalProperties": {
                    "type": "string"
                  }
                },
                "iconEmoji": {
                  "description": "Emoji to use as an icon for messages (e.g. \":warning:\")",
                  "type": "string"
                },
                "webhookURL": {
                  "description": "Incoming Webhook URL for Slack (example: 'https://hooks.slack.com/services/T000/B000/XXXXX')",
                  "type": "string"
                }
              }
            },
            "telegram": {
              "description": "Configuration for Telegram alerts",
              "type": "object",
              "default": {
                "chatID": "",
                "disabledSeverity": "",
                "token": ""
              },
              "required": [
                "chatID",
                "disabledSeverity",
                "token"
              ],
              "properties": {
                "chatID": {
                  "description": "Specify multiple ID's separated by comma. Get yours in https://t.me/chatid_echo_bot",
                  "type": "string"
                },
                "disabledSeverity": {
                  "description": "List of severity without alerts, separated by comma like: \"informational,warning\"",
                  "type": "string"
                },
                "token": {
                  "description": "Telegram token for your bot",
                  "type": "string"
                }
              }
            }
          }
        },
        "resources": {
          "description": "Resources configuration",
          "type": "object",
          "default": {
            "limits": {
              "cpu": "1",
              "memory": "1Gi"
            },
            "requests": {
              "cpu": "100m",
              "memory": "256Mi"
            }
          },
          "properties": {
            "limits": {
              "type": "object",
              "default": {
                "cpu": "1",
                "memory": "1Gi"
              },
              "properties": {
                "cpu": {
                  "description": "CPU limit (maximum available CPU)",
                  "default": 1,
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "anyOf": [
                    {
                      "type": "integer"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "x-kubernetes-int-or-string": true
                },
                "memory": {
                  "description": "Memory limit (maximum available memory)",
                  "default": "1Gi",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "anyOf": [
                    {
                      "type": "integer"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "x-kubernetes-int-or-string": true
                }
              }
            },
            "requests": {
              "type": "object",
              "default": {
                "cpu": "100m",
                "memory": "256Mi"
              },
              "properties": {
                "cpu": {
                  "description": "CPU request (minimum available CPU)",
                  "default": "100m",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "anyOf": [
                    {
                      "type": "integer"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "x-kubernetes-int-or-string": true
                },
                "memory": {
                  "description": "Memory request (minimum available memory)",
                  "default": "256Mi",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "anyOf": [
                    {
                      "type": "integer"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "x-kubernetes-int-or-string": true
                }
              }
            }
          }
        },
        "storage": {
          "description": "Persistent Volume size for the database",
          "type": "string",
          "default": "10Gi"
        },
        "storageClassName": {
          "description": "StorageClass used to store the data",
          "type": "string"
        }
      }
    },
    "grafana": {
      "description": "Configuration for Grafana",
      "type": "object",
      "default": {
        "db": {
          "size": "10Gi"
        },
        "resources": {
          "limits": {
            "cpu": "1",
            "memory": "1Gi"
          },
          "requests": {
            "cpu": "100m",
            "memory": "256Mi"
          }
        }
      },
      "properties": {
        "db": {
          "description": "Database configuration",
          "type": "object",
          "default": {
            "size": "10Gi"
          },
          "properties": {
            "size": {
              "description": "Persistent Volume size for the database",
              "type": "string",
              "default": "10Gi"
            }
          }
        },
        "resources": {
          "description": "Resources configuration",
          "type": "object",
          "default": {
            "limits": {
              "cpu": "1",
              "memory": "1Gi"
            },
            "requests": {
              "cpu": "100m",
              "memory": "256Mi"
            }
          },
          "properties": {
            "limits": {
              "type": "object",
              "default": {
                "cpu": "1",
                "memory": "1Gi"
              },
              "properties": {
                "cpu": {
                  "description": "CPU limit (maximum available CPU)",
                  "default": 1,
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "anyOf": [
                    {
                      "type": "integer"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "x-kubernetes-int-or-string": true
                },
                "memory": {
                  "description": "Memory limit (maximum available memory)",
                  "default": "1Gi",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "anyOf": [
                    {
                      "type": "integer"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "x-kubernetes-int-or-string": true
                }
              }
            },
            "requests": {
              "type": "object",
              "default": {
                "cpu": "100m",
                "memory": "256Mi"
              },
              "properties": {
                "cpu": {
                  "description": "CPU request (minimum available CPU)",
                  "default": "100m",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "anyOf": [
                    {
                      "type": "integer"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "x-kubernetes-int-or-string": true
                },
                "memory": {
                  "description": "Memory request (minimum available memory)",
                  "default": "256Mi",
                  "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                  "anyOf": [
                    {
                      "type": "integer"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "x-kubernetes-int-or-string": true
                }
              }
            }
          }
        }
      }
    },
    "host": {
      "description": "The hostname used to access the grafana externally (defaults to 'grafana' subdomain for the tenant host).",
      "type": "string"
    },
    "logsStorages": {
      "description": "Configuration of logs storage instances",
      "type": "array",
      "default": [
        {
          "name": "generic",
          "retentionPeriod": "1",
          "storage": "10Gi",
          "storageClassName": "replicated"
        }
      ],
      "items": {
        "type": "object",
        "required": [
          "name",
          "retentionPeriod",
          "storage"
        ],
        "properties": {
          "name": {
            "description": "Name of the storage instance",
            "type": "string"
          },
          "retentionPeriod": {
            "description": "Retention period for the logs in the storage instance",
            "type": "string"
          },
          "storage": {
            "description": "Persistent Volume size for the storage instance",
            "type": "string",
            "default": "10Gi"
          },
          "storageClassName": {
            "description": "StorageClass used to store the data",
            "type": "string",
            "default": "replicated"
          }
        }
      }
    },
    "metricsStorages": {
      "description": "Configuration of metrics storage instances",
      "type": "array",
      "default": [
        {
          "deduplicationInterval": "15s",
          "name": "shortterm",
          "retentionPeriod": "3d",
          "storage": "10Gi",
          "storageClassName": ""
        },
        {
          "deduplicationInterval": "5m",
          "name": "longterm",
          "retentionPeriod": "14d",
          "storage": "10Gi",
          "storageClassName": ""
        }
      ],
      "items": {
        "type": "object",
        "required": [
          "deduplicationInterval",
          "name",
          "retentionPeriod",
          "storage"
        ],
        "properties": {
          "deduplicationInterval": {
            "description": "Deduplication interval for the metrics in the storage instance",
            "type": "string"
          },
          "name": {
            "description": "Name of the storage instance",
            "type": "string"
          },
          "retentionPeriod": {
            "description": "Retention period for the metrics in the storage instance",
            "type": "string"
          },
          "storage": {
            "description": "Persistent Volume size for the storage instance",
            "type": "string",
            "default": "10Gi"
          },
          "storageClassName": {
            "description": "StorageClass used to store the data",
            "type": "string"
          },
          "vminsert": {
            "description": "Configuration for vminsert component of the storage instance",
            "type": "object",
            "properties": {
              "maxAllowed": {
                "description": "Limits (maximum allowed/available resources )",
                "type": "object",
                "properties": {
                  "cpu": {
                    "description": "CPU limit (maximum available CPU)",
                    "default": 1,
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "x-kubernetes-int-or-string": true
                  },
                  "memory": {
                    "description": "Memory limit (maximum available memory)",
                    "default": "1Gi",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "x-kubernetes-int-or-string": true
                  }
                }
              },
              "minAllowed": {
                "description": "Requests (minimum allowed/available resources)",
                "type": "object",
                "properties": {
                  "cpu": {
                    "description": "CPU request (minimum available CPU)",
                    "default": "100m",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "x-kubernetes-int-or-string": true
                  },
                  "memory": {
                    "description": "Memory request (minimum available memory)",
                    "default": "256Mi",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "x-kubernetes-int-or-string": true
                  }
                }
              }
            }
          },
          "vmselect": {
            "description": "Configuration for vmselect component of the storage instance",
            "type": "object",
            "properties": {
              "maxAllowed": {
                "description": "Limits (maximum allowed/available resources )",
                "type": "object",
                "properties": {
                  "cpu": {
                    "description": "CPU limit (maximum available CPU)",
                    "default": 1,
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "x-kubernetes-int-or-string": true
                  },
                  "memory": {
                    "description": "Memory limit (maximum available memory)",
                    "default": "1Gi",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "x-kubernetes-int-or-string": true
                  }
                }
              },
              "minAllowed": {
                "description": "Requests (minimum allowed/available resources)",
                "type": "object",
                "properties": {
                  "cpu": {
                    "description": "CPU request (minimum available CPU)",
                    "default": "100m",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "x-kubernetes-int-or-string": true
                  },
                  "memory": {
                    "description": "Memory request (minimum available memory)",
                    "default": "256Mi",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "x-kubernetes-int-or-string": true
                  }
                }
              }
            }
          },
          "vmstorage": {
            "description": "Configuration for vmstorage component of the storage instance",
            "type": "object",
            "properties": {
              "maxAllowed": {
                "description": "Limits (maximum allowed/available resources )",
                "type": "object",
                "properties": {
                  "cpu": {
                    "description": "CPU limit (maximum available CPU)",
                    "default": 1,
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "x-kubernetes-int-or-string": true
                  },
                  "memory": {
                    "description": "Memory limit (maximum available memory)",
                    "default": "1Gi",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "x-kubernetes-int-or-string": true
                  }
                }
              },
              "minAllowed": {
                "description": "Requests (minimum allowed/available resources)",
                "type": "object",
                "properties": {
                  "cpu": {
                    "description": "CPU request (minimum available CPU)",
                    "default": "100m",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "x-kubernetes-int-or-string": true
                  },
                  "memory": {
                    "description": "Memory request (minimum available memory)",
                    "default": "256Mi",
                    "pattern": "^(\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\\+|-)?(([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))))?$",
                    "anyOf": [
                      {
                        "type": "integer"
                      },
                      {
                        "type": "string"
                      }
                    ],
                    "x-kubernetes-int-or-string": true
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
