{{- if .Values.providers.kubevirt }}
---
apiVersion: operator.cluster.x-k8s.io/v1alpha2
kind: InfrastructureProvider
metadata:
  name: kubevirt
spec:
  # https://github.com/kubernetes-sigs/cluster-api-provider-kubevirt
  version: v0.1.10-infraprovider
  fetchConfig:
    selector:
      matchLabels:
        infraprovider-components: cozy
{{- end }}
{{- if .Values.providers.proxmox }}
---
apiVersion: operator.cluster.x-k8s.io/v1alpha2
kind: InfrastructureProvider
metadata:
  name: proxmox
spec:
  # https://github.com/ionos-cloud/cluster-api-provider-proxmox
  version: v0.6.2-infraprovider
  fetchConfig:
    selector:
      matchLabels:
        infraprovider-components: cozy
{{- end }}
