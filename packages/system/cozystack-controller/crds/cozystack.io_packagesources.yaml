---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.4
  name: packagesources.cozystack.io
spec:
  group: cozystack.io
  names:
    kind: PackageSource
    listKind: PackageSourceList
    plural: packagesources
    shortNames:
    - pkgsrc
    - pkgsrcs
    singular: packagesource
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - description: Package variants (comma-separated)
      jsonPath: .status.variants
      name: Variants
      type: string
    - description: Ready status
      jsonPath: .status.conditions[?(@.type=='Ready')].status
      name: Ready
      type: string
    - description: Ready message
      jsonPath: .status.conditions[?(@.type=='Ready')].message
      name: Status
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: PackageSource is the Schema for the packagesources API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: PackageSourceSpec defines the desired state of PackageSource
            properties:
              sourceRef:
                description: SourceRef is the source reference for the package source
                  charts
                properties:
                  kind:
                    description: Kind of the source reference
                    enum:
                    - GitRepository
                    - OCIRepository
                    type: string
                  name:
                    description: Name of the source reference
                    type: string
                  namespace:
                    description: Namespace of the source reference
                    type: string
                  path:
                    description: |-
                      Path is the base path where packages are located in the source.
                      For GitRepository, defaults to "packages" if not specified.
                      For OCIRepository, defaults to empty string (root) if not specified.
                    type: string
                required:
                - kind
                - name
                - namespace
                type: object
              variants:
                description: |-
                  Variants is a list of package source variants
                  Each variant defines components, applications, dependencies, and libraries for a specific configuration
                items:
                  description: Variant defines a single variant configuration
                  properties:
                    applications:
                      description: Applications is a list of application releases
                        to be installed as part of this variant
                      items:
                        description: Application defines a single application release
                          within a package source
                        properties:
                          libraries:
                            description: |-
                              Libraries is a list of library names that this application depends on
                              These libraries must be defined at the variant level
                            items:
                              type: string
                            type: array
                          name:
                            description: Name is the unique identifier for this application
                              within the package source
                            type: string
                          path:
                            description: Path is the path to the Helm chart directory
                            type: string
                          template:
                            description: Template describes the applications that
                              will be created.
                            properties:
                              apiVersion:
                                description: |-
                                  APIVersion defines the versioned schema of this representation of an object.
                                  Servers should convert recognized schemas to the latest internal value, and
                                  may reject unrecognized values.
                                  More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                                type: string
                              kind:
                                description: |-
                                  Kind is a string value representing the REST resource this object represents.
                                  Servers may infer this from the endpoint the client submits requests to.
                                  Cannot be updated.
                                  In CamelCase.
                                  More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                type: string
                              metadata:
                                type: object
                              spec:
                                properties:
                                  application:
                                    description: Application configuration
                                    properties:
                                      kind:
                                        description: Kind of the application, used
                                          for UI and API
                                        type: string
                                      openAPISchema:
                                        description: OpenAPI schema for the application,
                                          used for API validation
                                        type: string
                                      plural:
                                        description: Plural name of the application,
                                          used for UI and API
                                        type: string
                                      singular:
                                        description: Singular name of the application,
                                          used for UI and API
                                        type: string
                                    required:
                                    - kind
                                    - openAPISchema
                                    - plural
                                    - singular
                                    type: object
                                  dashboard:
                                    description: Dashboard configuration for this
                                      resource
                                    properties:
                                      category:
                                        description: Category used to group resources
                                          in the UI (e.g., "Storage", "Networking")
                                        type: string
                                      description:
                                        description: Short description shown in catalogs
                                          or headers (e.g., "S3 compatible storage")
                                        type: string
                                      icon:
                                        description: Icon encoded as a string (e.g.,
                                          inline SVG, base64, or data URI)
                                        type: string
                                      keysOrder:
                                        description: Order of keys in the YAML view
                                        items:
                                          items:
                                            type: string
                                          type: array
                                        type: array
                                      module:
                                        description: Whether this resource is a module
                                          (tenant module)
                                        type: boolean
                                      name:
                                        description: Hard-coded name used in the UI
                                          (e.g., "bucket")
                                        type: string
                                      plural:
                                        description: Plural human-readable name (e.g.,
                                          "Buckets")
                                        type: string
                                      singular:
                                        description: Human-readable name shown in
                                          the UI (e.g., "Bucket")
                                        type: string
                                      singularResource:
                                        description: Whether this resource is singular
                                          (not a collection) in the UI
                                        type: boolean
                                      tabs:
                                        description: Which tabs to show for this resource
                                        items:
                                          description: DashboardTab enumerates allowed
                                            UI tabs.
                                          enum:
                                          - workloads
                                          - ingresses
                                          - services
                                          - secrets
                                          - yaml
                                          type: string
                                        type: array
                                      tags:
                                        description: Free-form tags for search and
                                          filtering
                                        items:
                                          type: string
                                        type: array
                                      weight:
                                        description: Order weight for sorting resources
                                          in the UI (lower first)
                                        type: integer
                                    required:
                                    - category
                                    - plural
                                    - singular
                                    type: object
                                  ingresses:
                                    description: Ingress selectors
                                    properties:
                                      exclude:
                                        description: |-
                                          Exclude contains an array of resource selectors that target resources.
                                          If a resource matches the selector in any of the elements in the array, it is
                                          hidden from the user, regardless of the matches in the include array.
                                        items:
                                          description: "CozystackResourceDefinitionResourceSelector
                                            extends metav1.LabelSelector with resourceNames
                                            support.\nA resource matches this selector
                                            only if it satisfies ALL criteria:\n-
                                            Label selector conditions (matchExpressions
                                            and matchLabels)\n- AND has a name that
                                            matches one of the names in resourceNames
                                            (if specified)\n\nThe resourceNames field
                                            supports Go templates with the following
                                            variables available:\n- {{ .name }}: The
                                            name of the managing application (from
                                            apps.cozystack.io/application.name)\n-
                                            {{ .kind }}: The lowercased kind of the
                                            managing application (from apps.cozystack.io/application.kind)\n-
                                            {{ .namespace }}: The namespace of the
                                            resource being processed\n\nExample YAML:\n\n\tsecrets:\n\t
                                            \ include:\n\t  - matchExpressions:\n\t
                                            \   - key: badlabel\n\t      operator:
                                            DoesNotExist\n\t    matchLabels:\n\t      goodlabel:
                                            goodvalue\n\t    resourceNames:\n\t    -
                                            \"{{ .name }}-secret\"\n\t    - \"{{ .kind
                                            }}-{{ .name }}-tls\"\n\t    - \"specificname\""
                                          properties:
                                            matchExpressions:
                                              description: matchExpressions is a list
                                                of label selector requirements. The
                                                requirements are ANDed.
                                              items:
                                                description: |-
                                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                                  relates the key and values.
                                                properties:
                                                  key:
                                                    description: key is the label
                                                      key that the selector applies
                                                      to.
                                                    type: string
                                                  operator:
                                                    description: |-
                                                      operator represents a key's relationship to a set of values.
                                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                  values:
                                                    description: |-
                                                      values is an array of string values. If the operator is In or NotIn,
                                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                      the values array must be empty. This array is replaced during a strategic
                                                      merge patch.
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                - key
                                                - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              description: |-
                                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                                              type: object
                                            resourceNames:
                                              description: |-
                                                ResourceNames is a list of resource names to match
                                                If specified, the resource must have one of these exact names to match the selector
                                              items:
                                                type: string
                                              type: array
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        type: array
                                      include:
                                        description: |-
                                          Include contains an array of resource selectors that target resources.
                                          If a resource matches the selector in any of the elements in the array, and
                                          matches none of the selectors in the exclude array that resource is marked
                                          as a tenant resource and is visible to users.
                                        items:
                                          description: "CozystackResourceDefinitionResourceSelector
                                            extends metav1.LabelSelector with resourceNames
                                            support.\nA resource matches this selector
                                            only if it satisfies ALL criteria:\n-
                                            Label selector conditions (matchExpressions
                                            and matchLabels)\n- AND has a name that
                                            matches one of the names in resourceNames
                                            (if specified)\n\nThe resourceNames field
                                            supports Go templates with the following
                                            variables available:\n- {{ .name }}: The
                                            name of the managing application (from
                                            apps.cozystack.io/application.name)\n-
                                            {{ .kind }}: The lowercased kind of the
                                            managing application (from apps.cozystack.io/application.kind)\n-
                                            {{ .namespace }}: The namespace of the
                                            resource being processed\n\nExample YAML:\n\n\tsecrets:\n\t
                                            \ include:\n\t  - matchExpressions:\n\t
                                            \   - key: badlabel\n\t      operator:
                                            DoesNotExist\n\t    matchLabels:\n\t      goodlabel:
                                            goodvalue\n\t    resourceNames:\n\t    -
                                            \"{{ .name }}-secret\"\n\t    - \"{{ .kind
                                            }}-{{ .name }}-tls\"\n\t    - \"specificname\""
                                          properties:
                                            matchExpressions:
                                              description: matchExpressions is a list
                                                of label selector requirements. The
                                                requirements are ANDed.
                                              items:
                                                description: |-
                                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                                  relates the key and values.
                                                properties:
                                                  key:
                                                    description: key is the label
                                                      key that the selector applies
                                                      to.
                                                    type: string
                                                  operator:
                                                    description: |-
                                                      operator represents a key's relationship to a set of values.
                                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                  values:
                                                    description: |-
                                                      values is an array of string values. If the operator is In or NotIn,
                                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                      the values array must be empty. This array is replaced during a strategic
                                                      merge patch.
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                - key
                                                - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              description: |-
                                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                                              type: object
                                            resourceNames:
                                              description: |-
                                                ResourceNames is a list of resource names to match
                                                If specified, the resource must have one of these exact names to match the selector
                                              items:
                                                type: string
                                              type: array
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        type: array
                                    type: object
                                  release:
                                    description: Release configuration
                                    properties:
                                      chart:
                                        description: Helm chart configuration
                                        properties:
                                          name:
                                            description: Name of the Helm chart
                                            type: string
                                          sourceRef:
                                            description: Source reference for the
                                              Helm chart
                                            properties:
                                              kind:
                                                default: HelmRepository
                                                description: Kind of the source reference
                                                type: string
                                              name:
                                                description: Name of the source reference
                                                type: string
                                              namespace:
                                                default: cozy-public
                                                description: Namespace of the source
                                                  reference
                                                type: string
                                            required:
                                            - kind
                                            - name
                                            - namespace
                                            type: object
                                        required:
                                        - name
                                        - sourceRef
                                        type: object
                                      labels:
                                        additionalProperties:
                                          type: string
                                        description: Labels for the release
                                        type: object
                                      prefix:
                                        description: Prefix for the release name
                                        type: string
                                    required:
                                    - prefix
                                    type: object
                                  secrets:
                                    description: Secret selectors
                                    properties:
                                      exclude:
                                        description: |-
                                          Exclude contains an array of resource selectors that target resources.
                                          If a resource matches the selector in any of the elements in the array, it is
                                          hidden from the user, regardless of the matches in the include array.
                                        items:
                                          description: "CozystackResourceDefinitionResourceSelector
                                            extends metav1.LabelSelector with resourceNames
                                            support.\nA resource matches this selector
                                            only if it satisfies ALL criteria:\n-
                                            Label selector conditions (matchExpressions
                                            and matchLabels)\n- AND has a name that
                                            matches one of the names in resourceNames
                                            (if specified)\n\nThe resourceNames field
                                            supports Go templates with the following
                                            variables available:\n- {{ .name }}: The
                                            name of the managing application (from
                                            apps.cozystack.io/application.name)\n-
                                            {{ .kind }}: The lowercased kind of the
                                            managing application (from apps.cozystack.io/application.kind)\n-
                                            {{ .namespace }}: The namespace of the
                                            resource being processed\n\nExample YAML:\n\n\tsecrets:\n\t
                                            \ include:\n\t  - matchExpressions:\n\t
                                            \   - key: badlabel\n\t      operator:
                                            DoesNotExist\n\t    matchLabels:\n\t      goodlabel:
                                            goodvalue\n\t    resourceNames:\n\t    -
                                            \"{{ .name }}-secret\"\n\t    - \"{{ .kind
                                            }}-{{ .name }}-tls\"\n\t    - \"specificname\""
                                          properties:
                                            matchExpressions:
                                              description: matchExpressions is a list
                                                of label selector requirements. The
                                                requirements are ANDed.
                                              items:
                                                description: |-
                                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                                  relates the key and values.
                                                properties:
                                                  key:
                                                    description: key is the label
                                                      key that the selector applies
                                                      to.
                                                    type: string
                                                  operator:
                                                    description: |-
                                                      operator represents a key's relationship to a set of values.
                                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                  values:
                                                    description: |-
                                                      values is an array of string values. If the operator is In or NotIn,
                                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                      the values array must be empty. This array is replaced during a strategic
                                                      merge patch.
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                - key
                                                - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              description: |-
                                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                                              type: object
                                            resourceNames:
                                              description: |-
                                                ResourceNames is a list of resource names to match
                                                If specified, the resource must have one of these exact names to match the selector
                                              items:
                                                type: string
                                              type: array
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        type: array
                                      include:
                                        description: |-
                                          Include contains an array of resource selectors that target resources.
                                          If a resource matches the selector in any of the elements in the array, and
                                          matches none of the selectors in the exclude array that resource is marked
                                          as a tenant resource and is visible to users.
                                        items:
                                          description: "CozystackResourceDefinitionResourceSelector
                                            extends metav1.LabelSelector with resourceNames
                                            support.\nA resource matches this selector
                                            only if it satisfies ALL criteria:\n-
                                            Label selector conditions (matchExpressions
                                            and matchLabels)\n- AND has a name that
                                            matches one of the names in resourceNames
                                            (if specified)\n\nThe resourceNames field
                                            supports Go templates with the following
                                            variables available:\n- {{ .name }}: The
                                            name of the managing application (from
                                            apps.cozystack.io/application.name)\n-
                                            {{ .kind }}: The lowercased kind of the
                                            managing application (from apps.cozystack.io/application.kind)\n-
                                            {{ .namespace }}: The namespace of the
                                            resource being processed\n\nExample YAML:\n\n\tsecrets:\n\t
                                            \ include:\n\t  - matchExpressions:\n\t
                                            \   - key: badlabel\n\t      operator:
                                            DoesNotExist\n\t    matchLabels:\n\t      goodlabel:
                                            goodvalue\n\t    resourceNames:\n\t    -
                                            \"{{ .name }}-secret\"\n\t    - \"{{ .kind
                                            }}-{{ .name }}-tls\"\n\t    - \"specificname\""
                                          properties:
                                            matchExpressions:
                                              description: matchExpressions is a list
                                                of label selector requirements. The
                                                requirements are ANDed.
                                              items:
                                                description: |-
                                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                                  relates the key and values.
                                                properties:
                                                  key:
                                                    description: key is the label
                                                      key that the selector applies
                                                      to.
                                                    type: string
                                                  operator:
                                                    description: |-
                                                      operator represents a key's relationship to a set of values.
                                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                  values:
                                                    description: |-
                                                      values is an array of string values. If the operator is In or NotIn,
                                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                      the values array must be empty. This array is replaced during a strategic
                                                      merge patch.
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                - key
                                                - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              description: |-
                                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                                              type: object
                                            resourceNames:
                                              description: |-
                                                ResourceNames is a list of resource names to match
                                                If specified, the resource must have one of these exact names to match the selector
                                              items:
                                                type: string
                                              type: array
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        type: array
                                    type: object
                                  services:
                                    description: Service selectors
                                    properties:
                                      exclude:
                                        description: |-
                                          Exclude contains an array of resource selectors that target resources.
                                          If a resource matches the selector in any of the elements in the array, it is
                                          hidden from the user, regardless of the matches in the include array.
                                        items:
                                          description: "CozystackResourceDefinitionResourceSelector
                                            extends metav1.LabelSelector with resourceNames
                                            support.\nA resource matches this selector
                                            only if it satisfies ALL criteria:\n-
                                            Label selector conditions (matchExpressions
                                            and matchLabels)\n- AND has a name that
                                            matches one of the names in resourceNames
                                            (if specified)\n\nThe resourceNames field
                                            supports Go templates with the following
                                            variables available:\n- {{ .name }}: The
                                            name of the managing application (from
                                            apps.cozystack.io/application.name)\n-
                                            {{ .kind }}: The lowercased kind of the
                                            managing application (from apps.cozystack.io/application.kind)\n-
                                            {{ .namespace }}: The namespace of the
                                            resource being processed\n\nExample YAML:\n\n\tsecrets:\n\t
                                            \ include:\n\t  - matchExpressions:\n\t
                                            \   - key: badlabel\n\t      operator:
                                            DoesNotExist\n\t    matchLabels:\n\t      goodlabel:
                                            goodvalue\n\t    resourceNames:\n\t    -
                                            \"{{ .name }}-secret\"\n\t    - \"{{ .kind
                                            }}-{{ .name }}-tls\"\n\t    - \"specificname\""
                                          properties:
                                            matchExpressions:
                                              description: matchExpressions is a list
                                                of label selector requirements. The
                                                requirements are ANDed.
                                              items:
                                                description: |-
                                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                                  relates the key and values.
                                                properties:
                                                  key:
                                                    description: key is the label
                                                      key that the selector applies
                                                      to.
                                                    type: string
                                                  operator:
                                                    description: |-
                                                      operator represents a key's relationship to a set of values.
                                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                  values:
                                                    description: |-
                                                      values is an array of string values. If the operator is In or NotIn,
                                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                      the values array must be empty. This array is replaced during a strategic
                                                      merge patch.
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                - key
                                                - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              description: |-
                                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                                              type: object
                                            resourceNames:
                                              description: |-
                                                ResourceNames is a list of resource names to match
                                                If specified, the resource must have one of these exact names to match the selector
                                              items:
                                                type: string
                                              type: array
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        type: array
                                      include:
                                        description: |-
                                          Include contains an array of resource selectors that target resources.
                                          If a resource matches the selector in any of the elements in the array, and
                                          matches none of the selectors in the exclude array that resource is marked
                                          as a tenant resource and is visible to users.
                                        items:
                                          description: "CozystackResourceDefinitionResourceSelector
                                            extends metav1.LabelSelector with resourceNames
                                            support.\nA resource matches this selector
                                            only if it satisfies ALL criteria:\n-
                                            Label selector conditions (matchExpressions
                                            and matchLabels)\n- AND has a name that
                                            matches one of the names in resourceNames
                                            (if specified)\n\nThe resourceNames field
                                            supports Go templates with the following
                                            variables available:\n- {{ .name }}: The
                                            name of the managing application (from
                                            apps.cozystack.io/application.name)\n-
                                            {{ .kind }}: The lowercased kind of the
                                            managing application (from apps.cozystack.io/application.kind)\n-
                                            {{ .namespace }}: The namespace of the
                                            resource being processed\n\nExample YAML:\n\n\tsecrets:\n\t
                                            \ include:\n\t  - matchExpressions:\n\t
                                            \   - key: badlabel\n\t      operator:
                                            DoesNotExist\n\t    matchLabels:\n\t      goodlabel:
                                            goodvalue\n\t    resourceNames:\n\t    -
                                            \"{{ .name }}-secret\"\n\t    - \"{{ .kind
                                            }}-{{ .name }}-tls\"\n\t    - \"specificname\""
                                          properties:
                                            matchExpressions:
                                              description: matchExpressions is a list
                                                of label selector requirements. The
                                                requirements are ANDed.
                                              items:
                                                description: |-
                                                  A label selector requirement is a selector that contains values, a key, and an operator that
                                                  relates the key and values.
                                                properties:
                                                  key:
                                                    description: key is the label
                                                      key that the selector applies
                                                      to.
                                                    type: string
                                                  operator:
                                                    description: |-
                                                      operator represents a key's relationship to a set of values.
                                                      Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                  values:
                                                    description: |-
                                                      values is an array of string values. If the operator is In or NotIn,
                                                      the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                      the values array must be empty. This array is replaced during a strategic
                                                      merge patch.
                                                    items:
                                                      type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                required:
                                                - key
                                                - operator
                                                type: object
                                              type: array
                                              x-kubernetes-list-type: atomic
                                            matchLabels:
                                              additionalProperties:
                                                type: string
                                              description: |-
                                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                                              type: object
                                            resourceNames:
                                              description: |-
                                                ResourceNames is a list of resource names to match
                                                If specified, the resource must have one of these exact names to match the selector
                                              items:
                                                type: string
                                              type: array
                                          type: object
                                          x-kubernetes-map-type: atomic
                                        type: array
                                    type: object
                                required:
                                - application
                                - release
                                type: object
                            type: object
                        required:
                        - name
                        - path
                        - template
                        type: object
                      type: array
                    components:
                      description: Components is a list of Helm releases to be installed
                        as part of this variant
                      items:
                        description: Component defines a single Helm release component
                          within a package source
                        properties:
                          disabled:
                            description: Disabled indicates whether this component
                              is disabled (should not be installed)
                            type: boolean
                          install:
                            description: Install defines installation parameters for
                              this component
                            properties:
                              dependsOn:
                                description: DependsOn is a list of component names
                                  that must be installed before this component
                                items:
                                  type: string
                                type: array
                              namespace:
                                description: Namespace is the Kubernetes namespace
                                  where the release will be installed
                                type: string
                              privileged:
                                description: Privileged indicates whether this release
                                  requires privileged access
                                type: boolean
                              releaseName:
                                description: |-
                                  ReleaseName is the name of the HelmRelease resource that will be created
                                  If not specified, defaults to the component Name field
                                type: string
                            type: object
                          libraries:
                            description: |-
                              Libraries is a list of library names that this component depends on
                              These libraries must be defined at the variant level
                            items:
                              type: string
                            type: array
                          name:
                            description: Name is the unique identifier for this component
                              within the package source
                            type: string
                          path:
                            description: Path is the path to the Helm chart directory
                            type: string
                          valuesFiles:
                            description: ValuesFiles is a list of values file names
                              to use
                            items:
                              type: string
                            type: array
                        required:
                        - name
                        - path
                        type: object
                      type: array
                    dependsOn:
                      description: |-
                        DependsOn is a list of package source dependencies
                        For example: "cozystack.networking"
                      items:
                        type: string
                      type: array
                    libraries:
                      description: Libraries is a list of Helm library charts used
                        by components in this variant
                      items:
                        description: Library defines a Helm library chart
                        properties:
                          name:
                            description: Name is the optional name for library placed
                              in charts
                            type: string
                          path:
                            description: Path is the path to the library chart directory
                            type: string
                        required:
                        - path
                        type: object
                      type: array
                    name:
                      description: Name is the unique identifier for this variant
                      type: string
                  required:
                  - name
                  type: object
                type: array
            type: object
          status:
            description: PackageSourceStatus defines the observed state of PackageSource
            properties:
              conditions:
                description: Conditions represents the latest available observations
                  of a PackageSource's state
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              variants:
                description: |-
                  Variants is a comma-separated list of package variant names
                  This field is populated by the controller based on spec.variants keys
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
