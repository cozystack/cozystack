---
apiVersion: kubevirt.io/v1
kind: KubeVirt
metadata:
  name: kubevirt
  namespace: cozy-kubevirt
spec:
  certificateRotateStrategy: {}
  configuration:
    commonInstancetypesDeployment:
      enabled: false
    developerConfiguration:
      {{- if .Values.cpuAllocationRatio }}
      cpuAllocationRatio: {{ .Values.cpuAllocationRatio }}
      {{- end }}
      featureGates:
      - HotplugVolumes
      - ExpandDisks
      - LiveMigration
      - AutoResourceLimitsGate
      - CPUManager
      - GPU
      - VMExport
    evictionStrategy: LiveMigrate
    vmRolloutStrategy: LiveUpdate
  workloadUpdateStrategy:
    workloadUpdateMethods:
    - LiveMigrate
    - Evict
    batchEvictionInterval: 1m
    batchEvictionSize: 10
  customizeComponents: {}
  imagePullPolicy: IfNotPresent
  monitorNamespace: tenant-root
